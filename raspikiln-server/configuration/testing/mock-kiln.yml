http:
  enabled: true
  port: 8080
  dashboard:
    temperatureMetric: temperature.oven
    targetTemperatureMetric: temperature.target
    heaterSwitchMetric: switch.arming-switch
    temperatureMetrics:
      - display: "Temperature"
        metric: temperature.oven
    targetTemperatureMetrics:
      - display: "Target Temperature"
        metric: temperature.target

kiln:
  provider: mock
  sensors:
    - name: mock-temperature
      type: mock-temperature
      chipset:
        type: mock
      sampling:
        window: PT2S
        samples: 20
      provides:
        - name: "thermocouple-a"
          type: "temperature"
          address: thermocouple
          metric: temperature.oven
  switches:
    - name: "heater-switch"
      type: "digital-switch"
      metric: switch.heater-switch
      digitalOutput:
        pin: 22
    - name: "arming-switch"
      type: "digital-switch"
      metric: switch.arming-switch
      digitalOutput:
        pin: 12
  controllers:
    - name: "main-controller"
      type: "pid"
      dutyCycle: 2000 # 2 seconds
      kp: 100
      ki: 0
      kd: 0
      armingSwitch: "arming-switch"
      heaterSwitch: "heater-switch"
      controlTemperature: temperature.oven
      targetMetric: temperature.target
  programs:
    - name: "manual"
      type: "manual"
      controllers: [ "main-controller" ]
    - name: "bisque"
      type: "automatic"
      steps:
        - temperature: 250F
          ramp: 80F
          controller: "main-controller"
        - temperature: 1000F
          ramp: 200F
          controller: "main-controller"
        - temperature: 1695F
          ramp: 180F
          controller: "main-controller"
        - temperature: 1945F
          ramp: 80F
          controller: "main-controller"
